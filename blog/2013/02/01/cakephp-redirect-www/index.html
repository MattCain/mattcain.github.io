<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>CakePHP: Redirect to WWW subdomain from non-WWW requests</title><meta name=description content="Matt Cain - Freelance and Contract web developer London to Milton Keynes. HTML5, CSS3, Sass, Javascript, jQuery, PHP, CakePHP, Node.js, MySQL, MongoDB, Nginx"><meta name=viewport content="width=device-width, initial-scale=1"><link rel=canonical href="http://www.caindev.com/blog/2013/02/01/cakephp-redirect-www/"><!-- Place favicon.ico and apple-touch-icon(s) in the root directory --><link href="//fonts.googleapis.com/css?family=Alegreya+Sans+SC" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Oxygen" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Open+Sans:400,600" rel=stylesheet type=text/css><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=/css/main.6969.css><script src=/js/head-scripts.a52a.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header id=header><a id=me href="/"><div id=avatar><img src=/img/me.d373.png></div><span id=name>Matt Cain</span></a><p id=webdev>Web Developer</p><div id=mobile-nav-trigger><i class="fa fa-bars"></i></div><nav id=main-nav class=closed><ul><li><a href="/">About</a></li><li><a href="/blog/">Blog</a></li></ul><div id=social><a href=https://twitter.com/caindev><img src=/img/twitter.9a1a.png></a> <a href=https://github.com/MattCain><img src=/img/github.5899.png></a> <a href=https://stackoverflow.com/users/1003994/matt-cain><img src=/img/so.629c.png></a> <a href=uk.linkedin.com/in/mattcaindev><img src=/img/linkedin.a260.png></a></div></nav></header><main><div id=content class=clearfix><article class=post><h1 class=post-title>CakePHP: Redirect to WWW subdomain from non-WWW requests</h1><time datetime="">Posted 01 Feb 2013</time><p>Google and other search engines will think that www.domain.com and domain.com are two different sites. For SEO purposes you will need to make one of them redirect to the other.</p><p>Most websites choose to use the WWW subdomain rather than the naked domain as using the naked domain can throw up some difficult issues if your site gets big, <a href="http://www.yes-www.org/why-use-www/">read more here</a>.</p><p>To implement this redirect in CakePHP, you need to open up the .htaccess file in the top level directory of your site and replace it completely with the following (change ‘domain.com’ to your own domain obviously!)</p><div class=highlight><pre><code class=apache><span class=lineno>1</span> <span class=nb>Options</span> +FollowSymLinks
<span class=lineno>2</span> <span class=nb>RewriteEngine</span> <span class=k>On</span>
<span class=lineno>3</span> <span class=nb>RewriteCond</span> %{HTTP_HOST} ^domain\.com [NC]
<span class=lineno>4</span> <span class=nb>RewriteRule</span> ^(.*)$ http://www.domain.com%{REQUEST_URI} [R=301,L]
<span class=lineno>5</span>  
<span class=lineno>6</span> <span class=nb>RewriteRule</span> ^$ app/webroot/    [L]
<span class=lineno>7</span> <span class=nb>RewriteRule</span> (.*) app/webroot/$1 [L]
</code></pre></div><p>And that’s it! This will redirect all non-WWW requests to the WWW version, even if a user goes straight to a page on your site like domain.com/news, it’ll redirect to www.domain.com/news.</p><p>Hope that helps!</p></article></div></main><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery.js"><\/script>')</script><script src=/js/script.43a0.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12358561-6', 'auto');
  ga('send', 'pageview');</script></body></html>